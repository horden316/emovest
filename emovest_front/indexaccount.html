<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://kit.fontawesome.com/27fa02f410.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/styleaccount.css">
</head>
<header>

    <nav class="navbar">
        <ul class="container0">
            <li class="navitem">
                <a class="logo animate__animated animate__bounce">EmoVest</a>
            </li>
            <div class="usercontainer">
                <a href="indexsignin.html"><i class="fa-solid fa-user"></i></a>
            </div>
        </ul>
        <ul class="container">
            <li class="navitem">
                <a class="navlink" href="indexhomepage.html">主頁</a>
            </li>
            <li class="navitem">
                <a class="navlink" href="indexemotion.html">情緒儀表板</a>
            </li>
            <li class="navitem">
                <a class="navlink" href="indexinvest.html">投資績效計算</a>
            </li>
            <li class="navitem">
                <a class="navlink" href="indexmarket.html">市場行情</a>
            </li>
            <li class="navitem">
                <a class="navlink2" href="indexaccount.html">帳戶</a>
            </li>
        </ul>
    </nav>
</header>

<body>
    <div class="card_product_page">
        <!--遮罩-->
        <div class="card_product">
            <!--帳戶連結-->
            <i class="fa-solid fa-square-xmark productCross"></i>
            <h1 class="cardtitle">帳戶連結</h1>
            <div class="cardText">
                <p>APIKEY:</p><input type="text" class="apikey">
                <p>APISECRET:</p><input type="text" class="apisecret">
            </div>
            <button class="submit">提交</button>
        </div>
        <div class="card_set">
            <!--設定-->
            <i class="fa-solid fa-square-xmark productCross2"></i>
            <h1 class="cardtitle">設定</h1>
            <div class="cardText">
                <p>APIKEY:</p><input type="text" class="apikey" id="apikeybinance">
                <p>APISECRET:</p><input type="text" class="apisecret" id="apisecretbinance">
            </div>
            <button class="submit">提交</button>
        </div>
    </div>
    <div class="first">
        <p>．Top Cryptocurrency Spot Exchanges Recommendation</p>
        <div class="contentArea">
            <div class="bitbox">
                <div class="boxtitle">
                    <img src="img/kraken.png" alt="">
                    <h6 class="boxname">Kraken</h6>
                </div>
                <hr class="boxline">
                <button class="boxbtn" id="linkbtn1">帳戶連結</button>
            </div>
            <div class="bitbox">
                <div class="boxtitle">
                    <img src="img/kucoin.png" alt="">
                    <h6 class="boxname">KuCoin</h6>
                </div>
                <hr class="boxline">
                <button class="boxbtn" id="linkbtn2">帳戶連結</button>
            </div>
            <div class="bitbox">
                <div class="boxtitle">
                    <img src="img/gemini.png" alt="">
                    <h6 class="boxname">Gemini</h6>
                </div>
                <hr class="boxline">
                <button class="boxbtn" id="linkbtn3">帳戶連結</button>
            </div>
        </div>
        <div class="contentArea">
            <div class="bitbox">
                <div class="boxtitle">
                    <img src="img/Gate.io.png" alt="">
                    <h6 class="boxname">Gate.io</h6>
                </div>
                <hr class="boxline">
                <button class="boxbtn" id="linkbtn4">帳戶連結</button>
            </div>
            <div class="bitbox">
                <div class="boxtitle">
                    <img src="img/Bitfinex.png" alt="">
                    <h6 class="boxname">Bitfinex</h6>
                </div>
                <hr class="boxline">
                <button class="boxbtn" id="linkbtn5">帳戶連結</button>
            </div>
            <div class="bitbox">
                <div class="boxtitle">
                    <img src="img/Huobi Global.png" alt="">
                    <h6 class="boxname">Huobi Global</h6>
                </div>
                <hr class="boxline">
                <button class="boxbtn" id="linkbtn6">帳戶連結</button>
            </div>
        </div>
    </div>
    <div class="vline">
        <hr>
    </div>
    <div class="second">
        <p>・Linked</p>
        <div class="contentArea">
            <div class="bitbox2">
                <div class="boxtitle">
                    <img src="img/Binance.png" alt="">
                    <h6 class="boxname">Binance</h6>
                </div>
                <hr class="boxline">
                <button class="boxbtn2" id="binanceLink">設定</button>
            </div>
        </div>
    </div>

</body>
<footer>
    <div class="latestlayer">
        <div class="content">
            <h3>關於我們</h3>
            <h4>商業聯絡</h4>
            <h4>幣安資訊</h4>
            <h4>服務協議</h4>
            <h4>隱私說明</h4>
            <h4>風險提示</h4>
            <h4>Cookie偏好設定</h4>
        </div>
        <div class="content">
            <h3>幫助</h3>
            <h4>反饋及建議</h4>
            <h4>幫助中心</h4>
        </div>
        <div class="content">
            <h3>社群</h3>
            <i class="fa-brands fa-square-facebook"></i>
            <i class="fa-brands fa-instagram"></i>
            <i class="fa-brands fa-square-twitter"></i>
        </div>
    </div>
    <div class="latest">
        <p class=footerp>Copyright © Emovest108ab00</p>
    </div>
</footer>

<!--載入jQuery-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!--載入jQuery UI 1.11.4-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script>
    $(document).ready(function () {
        $(".card_product_page").hide();
        $(".card_product").hide();
        $(".card_set").hide();
        //導覽列變色
        $(".navlink").click(function () {
            $(this).css("color", "#FFFFF");
        })
        $(".navlink").mouseenter(function () {
            $(this).css("color", "#FFFFF");
            $(this).css("cursor", "pointer");
        })
        $(".navlink").mouseleave(function () {
            $(this).css("color", "#000000");
        })
        //帳戶連結紐變色
        $(".boxbtn").click(function () {
            $(this).css("background-color", "#F0C994");
        })
        $(".boxbtn").mouseenter(function () {
            $(this).css("background-color", "#EED9BB");
            $(this).css("cursor", "pointer");
        })
        $(".boxbtn").mouseleave(function () {
            $(this).css("background-color", "#FFFFF");
        })

        $(".boxbtn2").click(function () {
            $(this).css("background-color", "#F0C994");
        })
        $(".boxbtn2").mouseenter(function () {
            $(this).css("background-color", "#EED9BB");
            $(this).css("cursor", "pointer");
        })
        $(".boxbtn2").mouseleave(function () {
            $(this).css("background-color", "#FFFFF");
        })
        //提交鈕變色
        $(".submit").click(function () {
            $(this).css("background-color", "#F0C994");
        })
        $(".submit").mouseenter(function () {
            $(this).css("background-color", "#EED9BB");
            $(this).css("cursor", "pointer");
        })
        $(".submit").mouseleave(function () {
            $(this).css("background-color", "#FFFFF");
        })
        $(".content h4").mouseenter(function () {
            $(this).addClass("white")
            $(this).addClass("big")
        })
        $(".content h4").mouseleave(function () {
            $(this).removeClass("white")
            $(this).removeClass("big")
        })
        $("#tab h3").mouseenter(function () {
            $(this).addClass("orange")
            $(this).addClass("big")
        })
        $("#tab h3").mouseleave(function () {
            $(this).removeClass("orange")
            $(this).removeClass("big")
        })
        // 產品介紹展開與收合
        $(".boxbtn").click(function () {
            $(".card_product_page").toggle();
            $(".card_product_page").css({ "background-color": "rgba(0, 0, 0, 0.3);" });
            $(".card_product").toggle();
        })

        $(".productCross").click(function () {
            $(".card_product_page").css({ "background-color": "transparent" });
            $(".card_product_page").toggle();
            $(".card_product").toggle();
        })
        $(".boxbtn2").click(function () {
            if (window.web3) {
                window.web3 = new Web3(window.web3.currentProvider);
                ethereum.request({ method: 'eth_requestAccounts' }).then((result) =>               {
                    address = result[0];
                    CHECKSUMADDRESS=web3.utils.toChecksumAddress(address)

                    var hexData = window.web3.utils.utf8ToHex("Welcome to Emovest");

                    window.web3.eth.personal.sign(hexData, address, function(result, signature){
                        //alert(signature);
                        console.log(signature); // Signature
                        fetch('http://34.81.139.175:45001/WalletGetBinanceAPIKEY',{
                            //body:JSON.stringify({"Address":address, "Signature":signature}),
                            body:JSON.stringify({"Address":CHECKSUMADDRESS, "Signature":signature}),
                            cache: 'no-cache',
                            credentials: 'same-origin',
                            headers: {
                                'content-type': 'application/json'
                            },
                            method: 'POST',
                        })
                            .then((response) => {
                                return response.json();
                            })
                            .then((response) => {
                                $(".card_product_page").toggle();
                                $(".card_product_page").css({ "background-color": "rgba(0, 0, 0, 0.3);" });
                                $(".card_set").toggle();
                                if(response.KEY!=0) {
                                    document.getElementById("apikeybinance").value = response.KEY;
                                    document.getElementById("apisecretbinance").value = response.Secret;
                                }
                                else{
                                    alert("登入不成功")
                                }

                            })
                    })
                }).catch((error) => {
                    console.log("error",error);
                });
            } else {
                alert( '沒有安裝錢包' );
            }
        })

        $(".productCross2").click(function () {
            $(".card_product_page").css({ "background-color": "transparent" });
            $(".card_product_page").toggle();
            $(".card_set").toggle();
        })

        $(".apikey").click(function () {
            $(this).css("border-color", "#F0C994")
        })
        $(".apikey").blur(function () {
            $(this).css("border-color", "#ced4da")
        })
        $(".apisecret").click(function () {
            $(this).css("border-color", "#F0C994")
        })
        $(".apisecret").blur(function () {
            $(this).css("border-color", "#ced4da")
        })
    })

</script>




</html>